---
title: Google TestをCIで実行する
tags:
  - C
  - C++
  - CI
  - googletest
private: false
updated_at: '2025-12-04T19:27:31+09:00'
id: 254a22e5452ba3f8d854
organization_url_name: null
slide: false
ignorePublish: false
---
## 前記事
https://qiita.com/skkzsh/items/08ec6d2fd151ebc6d079

## CI で Google Test

https://github.com/google/googletest

CI で Google Test を実行するには, パッケージマネージャで Google Test がインストールできて,
インクルードパスにも自動で通してくれる Linux ディストリビューションを使うとラク. [^1]

[^1]: [リリースノート](https://github.com/google/googletest/releases/tag/v1.15.2) に書いているとおり, Google公式としては最新コミットからのビルドが推奨されています.


それは [**Arch Linux**](https://hub.docker.com/_/archlinux) だ.

たとえば [CircleCI](https://circleci.com/ja) の場合は, 下記のように書けばいい.

```yaml:.circleci/config.yml
version: 2.1
jobs:
  test:
    docker:
      - image: archlinux
    environment:
      GTEST_COLOR: yes # Google Test の出力が白黒にならないようにする
    steps:
      - checkout
      - run:
          command: pacman -Sy --noconfirm make clang gtest
      - run:
          command: make clean testall  # テスト実行
```

## 参考

`GTEST_COLOR` については下記を参照した

https://google.github.io/googletest/advanced.html#colored-terminal-output
