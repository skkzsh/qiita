---
title: VimやEmacsでカーソル下のリンクを開く動作の比較
tags:
  - Emacs
  - Vim
  - org-mode
private: false
updated_at: '2025-12-04T19:17:08+09:00'
id: 34c1ee2c1910e9cb746e
organization_url_name: null
slide: false
ignorePublish: false
---
## はじめに

VimやEmacsでは, カーソル下にあるパスやリンクを開けるキーバインドがあるが,
認識できる文字列は, それぞれで異なる.

## Vim
### gf

http://vim-jp.org/vimdoc-ja/editing.html#gf

- `gf`キーでカーソル下のパスをVim内で開ける.
- 環境変数は, UNIX形式 (`$APPDATA`等) でも, Windows形式 (`%APPDATA%`等) でも展開できる.

### gx

http://vim-jp.org/vimdoc-ja/pi_netrw.html#netrw-gx

- `gx`キーでカーソル下のリンクを開ける. ([start](http://itpro.nikkeibp.co.jp/free/NT/WinKeyWord/20040805/1/start.shtml)コマンドや, ダブルクリックする操作に近い.)

- そのため, `gf`と違い, 環境変数は展開できないが, URLを開くときなどに使える.

- Windowsの[`shell`](https://ss64.com/nt/shell.html)スキーム (`shell:AppData`等) は, `gf`では展開できないが, `gx`では展開できる.

## Emacs
### FFAP

https://www.gnu.org/software/emacs/manual/html_node/emacs/FFAP.html

- FFAP (find-file-at-point) が有効であれば,`C-x C-f`や`C-x C-d`で
  カーソル下のパスをEmacs内で開ける. URLも開ける.

- 環境変数は, UNIX形式は展開できるが, Vimと違い, Windows形式が展開できない.
  `shell`スキームも展開できない.


### org-mode, markdown-mode
- [org-mode](https://orgmode.org/manual/Handling-Links.html#index-C_002dc-C_002do)や[markdown-mode](http://jblevins.org/projects/markdown-mode/)では, `C-c C-o`でカーソル下のリンクを開ける.
  URLを開くときなどに使える.

- パスについては, 例えば, 単に`\Users`では開けない.
  orgでは`[[\Users]]`, Markdownでは`[Users](\Users)`
  というように, それぞれのリンク表記にすれば, 開くことができる.
  ただし, 環境変数は展開できない.

- また, `shell:`表記は, org-modeでは, Windowsの`shell`スキームでなく,
  org-modeの`shell`[リンク](https://orgmode.org/manual/External-Links.html)として認識される.
  例えば, `shell:pwd`というテキスト上で`C-c C-o`すると, コマンドが実行される.

## まとめ
上記は一例だが, まとめると, 以下のようになる.

| 表記                | 例               | Vim  | ffap | org-mode | markdown-mode |
|---------------------|------------------|------|------|----------|---------------|
| パス                | `\Users`         | `gf` | :o:  |          |               |
| UNIX形式環境変数    | `$APPDATA`       | `gf` | :o:  |          |               |
| Windows形式環境変数 | `%APPDATA%`      | `gf` |      |          |               |
| shellスキーム       | `shell:AppData`  | `gx` |      | :x:      |               |
| URL                 | http://qiita.com | `gx` | :o:  | :o:      | :o:           |
| httpプロトコル      | `http:qiita.com` | `gx` |      | :o:      |               |
| fileプロトコル      | `file:C:\Users`  | `gx` |      | :o:      | :o:           |
| orgリンク表記       | `[[\Users]]`     |      |      | :o:      |               |
| org shellリンク     | `shell:pwd`      | :x:  |      | :o:      |               |
| Markdownリンク表記  | `[User](\Users)` |      |      |          | :o:           |

## 確認環境
- Windows 7
- Vim 7.4
- Emacs 24.4
- org-version 8.3.4
- markdown-mode 2.1
