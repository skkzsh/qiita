---
title: gitで署名付きcommitが突然できなくなったときの解決方法 (備忘録)
tags:
  - Git
  - gpg
  - GnuPG
private: false
updated_at: '2025-12-04T19:28:14+09:00'
id: 545259c3648f0dfb30f2
organization_url_name: null
slide: false
ignorePublish: false
---
## 問題内容
これまで [`git` で署名付き `commit`](https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--Sltkeyidgt) ができていたのに, 突然できなくなることがたびたびある. 
(だいたい `brew upgrade` した後のタイミング)

```console
$ git commit -S -m 'Hello'
error: gpg failed to sign the data
fatal: failed to write commit object
```

## 解決方法
`gpg-agent` を以下のように再起動する.

```console
$ gpgconf --kill gpg-agent  
```

## 参考
https://www.gnupg.org/documentation/manuals/gnupg/Invoking-GPG_002dAGENT.html

## 環境
- GPG: 2.3.8
- Git: 2.33.0
- macOS: 13.3.1
