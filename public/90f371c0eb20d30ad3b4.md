---
title: Amazon SESでバージニア・リージョン以外からメール送信
tags:
  - AWS
  - EC2
  - ses
private: false
updated_at: '2025-12-04T19:14:13+09:00'
id: 90f371c0eb20d30ad3b4
organization_url_name: null
slide: false
ignorePublish: false
---
## はじめに

http://aws.amazon.com/jp/ses/

Amazon SES は, サーバの構築なしで手軽にメール送信できるサービスである.
下記の[リージョン](http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/using-regions-availability-zones.html)で利用できる. (2014/11時点)

- 米国東部 (バージニア北部)
- 米国西部 (オレゴン)
- 欧州 (アイルランド)


## メール送信

[Amazon Simple Email Service Scripts](http://aws.amazon.com/developertools/Amazon-SES/8945574369528337)を使えば, EC2上からコマンドでメール送信できる.
バージニア・リージョンから送信する場合, コマンドは下記のとおり.

```sh
$ ./ses-send-email.pl -s $title -f $from_adress $to_adress < $message_file
```

または,

```sh
$ perl -I/path/to/ses /path/to/ses/ses-send-email.pl -s $title -f $from_adress $to_adress < $message_file
```

しかし, バージニア・リージョン以外から送信する場合は,
下記のように`-e`オプションでエンドポイントURLを指定する必要があるので,
注意 (下記はリージョンがオレゴンの場合).

```sh
$ ./ses-send-email.pl -e 'https://email.us-west-2.amazonaws.com/' -s $title -f $from_adress $to_adress < $message_file
```

実は, `-e`オプションなしのときは, デフォルトが
バージニアのエンドポイントURL (https://email.us-east-1.amazonaws.com/)
となっていただけである (コマンドのヘルプに記載あり).

SESが使うサーバはリージョン毎に異なるので, このように適切なエンドポイントを指定する必要がある.
なお, 各リージョンのエンドポイントURLは[Regions and Amazon SES](http://docs.aws.amazon.com/ses/latest/DeveloperGuide/regions.html)に載っている.


## 参考

https://www.infoscoop.org/blogjp/2014/07/04/aws%E3%81%AEses%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E3%83%A1%E3%83%BC%E3%83%AB%E9%80%81%E4%BF%A1/

http://pocketstudio.jp/log3/2011/02/14/amazon-ses/
