---
title: YaTeXのプレビュー(C-c t p)でプレビューアを追加する
tags:
  - Emacs
  - TeX
private: false
updated_at: '2025-12-04T19:00:22+09:00'
id: bbb1991ab18514f11a6c
organization_url_name: null
slide: false
ignorePublish: false
---
## 設定方法
 
**Emacs**の**YaTeXモード**でプレビュー(C-c t p)を使うとき、
指定したPreview Commandによっては
Preview Fileの拡張子が自動補完されない場合がある。
この場合には、補完リストを自分で追加する。
補完リストは`yatex`ディレクトリ内にある`yatexprc.el`の849-852行目で
以下のように定義されている(YaTeX 1.76)。

```emacs-lisp:yatex/yatexprc.el
(defvar YaTeX-dvi2-command-ext-alist
  '(("[agx]dvi\\|dviout" . ".dvi")
    ("ghostview\\|gv" . ".ps")
    ("acroread\\|pdf\\|Preview\\|TeXShop\\|Skim\\|evince" . ".pdf")))
```

例えば、プレビューアとしてdviに`emacsclient`、
pdfに`apvlv`を追加したい場合には以下の定義に変更するか、`~/.emacs`に書く。

```emacs-lisp:~/.emacs
(defvar YaTeX-dvi2-command-ext-alist
  '(("[agx]dvi\\|dviout\\|emacsclient" . ".dvi")
   ("ghostview\\|gv" . ".ps")
   ("acroread\\|pdf\\|Preview\\|TeXShop\\|Skim\\|evince\\|apvlv" . ".pdf")))
```
以上のように設定すれば、
これらのプレビューアでも拡張子が自動補完されるようになる。

## 補足 (YaTeXモードのプレビュー)

**Emacs**でTeXを編集するときには、
入力補完の強い**YaTeXモード**を導入しておくと便利である。

https://www.yatex.org/

http://www.nk.rim.or.jp/~naru/yatex/

C-c t pはプレビューにバインドされており、
編集中のtexファイルをコンパイルして得たdviやpdfのファイルを
Emacsから開いて閲覧することができる。
具体的には、`~/.emacs`で設定した`dvi2-command`

```common-lisp:~/.emacs
(setq dvi2-command "xdvi")
```

がEmacsの下の方にあるミニバッファに

> Preview Command: xdvi

などと表示される。その後RETを押すと、

> Preview File: hoge.dvi

と表示され、さらにRETを押すとそのファイルを開くことができる。

このとき、Preview Commandをミニバッファで編集することもでき、
その場合は指定したコマンドに応じて
Preview Fileの拡張子が自動補完される。例えば、

> Preview Command: xpdf

と編集してRETを押すと、

> Preview File: hoge.pdf

と拡張子が補完される。
